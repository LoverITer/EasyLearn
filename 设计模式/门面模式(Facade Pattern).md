### 门面模式(Facade Pattern)





### 一、门面模式的定义

门面模式也叫做外观模式，是一种常见的封装模式，它的定义：要求一个子系统的外部与其内部的通信必须通过一个统一的对象进行。门面模式提供一个高层次的接口，使子系统更容易使用。

### 二、门面模式的优点

1. 减少系统的相互依赖。调用者通过门面角色提供的接口访问子系统，这样只要门面角色提供的接口不发生变化，子系统怎么改变都不会影响高层代码，因为门面角色对于调用者来说都是同一个门面。
2. 有较高的灵活性。依赖降低了，灵活性也就变高了。
3.  提高了安全性。门面角色可以限制外部能访问到的子系统功能，只需要为需要的功能提供一个接口即可，没有提供接口则就不能访问。

### 三、门面模式的应用用场景

1. **需要为一个复杂的模块或子系统提供一个外界访问接口**。比如，需要使用一个系统的功能，需要调用50个函数，50个函数之间还需要有一定顺序，总不能外界直接按顺序要求调用这50个函数吧，要是更复杂呢（有5000个函数-_-!!），要真这样一旦某一个函数出错你也就再见了。而且这样写高层模块与子系统模块强耦合在一起了，一旦修改子系统，高层模块也需要变动。为了解决这种强耦合，我们可以使用门面角色将子系统封装起来，然后为高层模块提供业务的接口，这样高层模块就只依赖门面角色了，子系统的修改不会影响到高层模块。

2. **子系统相对独立——外界只需要黑箱操作**。

### 四、 门面模式的通用类图

![](https://pic002.cnblogs.com/images/2012/369936/2012011915325013.png)

* Facade（门面角色）：该角色封装了若干子系统，知晓子系统的功能和职责。该角色会将所有从客户端发来的请求委派到相应的子系统去，它其实只是一个**委托类**，无实际的业务逻辑。高层模块通过使用该角色提供的接口访问子接口。
* SubSystem（子系统角色）：可以是一个也可以是多个子系统。每个系统都是类集合。子系统不知道门面角色的存在，在其角度来看，门面角色其实就是个客户端。 

### 五、门面模式的通用实现

